var LoadingUI=function(e){function t(){e.call(this),this.createView()}__extends(t,e);var i=(__define,t),r=i.prototype;return r.createView=function(){this.textField=new egret.TextField,this.addChild(this.textField),this.textField.y=300,this.textField.width=480,this.textField.height=100,this.textField.textAlign="center"},r.setProgress=function(e,t){this.textField.text="Loading..."+e+"/"+t},t}(egret.Sprite);egret.registerClass(LoadingUI,"LoadingUI");var Main=function(e){function t(){e.call(this),this.arrStars=[],this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(t,e);var i=(__define,t),r=i.prototype;return r.onAddToStage=function(e){RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},r.onConfigComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.loadGroup("preload")},r.onResourceLoadComplete=function(e){"preload"==e.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),this.createGameScene())},r.createGameScene=function(){var e=this,t=new egret.Shape,i=730,r=530,s=365,n=265;t.graphics.beginFill(0),t.graphics.drawRect(0,0,i,r),t.graphics.endFill(),this.addChild(t);for(var a=(new Date).getTime(),o=0;60>o;o++){var h=new Star(o,a);h.x=s,h.y=n,this.arrStars.push(h),this.addChild(h)}this.addEventListener(egret.Event.ENTER_FRAME,function(){var t=(new Date).getTime();e.moveStars(t)},this)},r.moveStars=function(e){for(var t=0,i=this.arrStars.length;i>t;t++)this.arrStars[t].onMove(e)},t}(egret.DisplayObjectContainer);egret.registerClass(Main,"Main");var Star=function(e){function t(t,i){e.call(this),this.id=0,this.radius=200,this.id=t,this.time=i;var r=new egret.Bitmap(RES.getRes("star_png"));r.anchorOffsetX=3,r.anchorOffsetY=3,this.bmp=r,this.addChild(r);var s=6.28*t/60;r.x=this.radius*Math.cos(s),r.y=this.radius*Math.sin(s)}__extends(t,e);var i=(__define,t),r=i.prototype;return r.onMove=function(e){var t=this.getAngle(e);this.bmp.x=this.radius*Math.cos(t),this.bmp.y=this.radius*Math.sin(t)},r.getAngle=function(e){var t=e-this.time;Math.floor(t/5e3)%2==0?this.radius=200+t%5e3*.006:this.radius=230-t%5e3*.006;var i=6.28*(360*this.id/60+.004*t)/360;return i},t}(egret.DisplayObjectContainer);egret.registerClass(Star,"Star");