var Main=function(e){function t(){e.call(this),this.arrStars=[],this.addEventListener(egret.Event.ADDED_TO_STAGE,this.onAddToStage,this)}__extends(t,e);var r=(__define,t),a=r.prototype;return a.onAddToStage=function(e){RES.addEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.loadConfig("resource/default.res.json","resource/")},a.onConfigComplete=function(e){RES.removeEventListener(RES.ResourceEvent.CONFIG_COMPLETE,this.onConfigComplete,this),RES.addEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),RES.loadGroup("preload")},a.onResourceLoadComplete=function(e){"preload"==e.groupName&&(RES.removeEventListener(RES.ResourceEvent.GROUP_COMPLETE,this.onResourceLoadComplete,this),this.createGameScene())},a.createGameScene=function(){var e=this,t=730,r=530,a=365,n=265,i=new egret.DisplayObjectContainer;this.addChild(i);var o=new egret.Shape,s=new egret.Matrix;s.createGradientBox(t,r),o.graphics.beginGradientFill(egret.GradientType.RADIAL,[2697521,0],[1,1],[0,255],s),o.graphics.drawRect(0,0,t,r),o.graphics.endFill(),i.addChild(o);var h=new egret.Bitmap(RES.getRes("c1-2_png"));h.x=a,h.y=n,h.rotation=-20,h.anchorOffsetY=-148,i.addChild(h),egret.Tween.get(h,{loop:!0}).to({rotation:340},2e4);var d=new egret.Bitmap(RES.getRes("c1-1_png"));d.x=a,d.y=n,d.anchorOffsetX=186,d.anchorOffsetY=186,i.addChild(d),egret.Tween.get(d,{loop:!0}).to({rotation:360},5e3);var g=new egret.Bitmap(RES.getRes("c2_png"));g.x=a,g.y=n,g.anchorOffsetX=40,g.anchorOffsetY=164,i.addChild(g),egret.Tween.get(g,{loop:!0}).to({rotation:-360},2e4);var c=new egret.Bitmap(RES.getRes("c2_png"));c.x=a,c.y=n,c.scaleX=-1,c.anchorOffsetX=40,c.anchorOffsetY=164,i.addChild(c),egret.Tween.get(c,{loop:!0}).to({rotation:360},2e4);var p=new egret.Bitmap(RES.getRes("c3_png"));p.x=a,p.y=n,p.anchorOffsetX=131,p.anchorOffsetY=127,i.addChild(p),egret.Tween.get(p,{loop:!0}).to({rotation:-360},2e4);var f=new egret.Bitmap(RES.getRes("c4_png"));f.x=a,f.y=n,f.anchorOffsetY=108,i.addChild(f),egret.Tween.get(f,{loop:!0}).to({rotation:360},18e3);var l=new egret.Bitmap(RES.getRes("bg_png"));i.addChild(l);for(var E=(new Date).getTime(),v=0;60>v;v++){var R=new Star(v,E);R.x=a,R.y=n,this.arrStars.push(R),i.addChild(R)}this.addEventListener(egret.Event.ENTER_FRAME,function(){var t=(new Date).getTime();e.moveStars(t)},this)},a.moveStars=function(e){for(var t=0,r=this.arrStars.length;r>t;t++)this.arrStars[t].onMove(e)},t}(egret.DisplayObjectContainer);egret.registerClass(Main,"Main");var Star=function(e){function t(t,r){e.call(this),this.id=0,this.radius=200,this.id=t,this.time=r;var a=new egret.Bitmap(RES.getRes("star_png"));a.anchorOffsetX=3,a.anchorOffsetY=3,this.bmp=a,this.addChild(a);var n=6.28*t/60;a.x=this.radius*Math.cos(n),a.y=this.radius*Math.sin(n)}__extends(t,e);var r=(__define,t),a=r.prototype;return a.onMove=function(e){var t=this.getAngle(e);this.bmp.x=this.radius*Math.cos(t),this.bmp.y=this.radius*Math.sin(t)},a.getAngle=function(e){var t=e-this.time;Math.floor(t/5e3)%2==0?this.radius=200+t%5e3*.006:this.radius=230-t%5e3*.006;var r=6.28*(360*this.id/60+.004*t)/360;return r},t}(egret.DisplayObjectContainer);egret.registerClass(Star,"Star");